"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FramePersistor = exports.getCurrentCompositionFromUrl = void 0;
const react_1 = require("react");
const remotion_1 = require("remotion");
const getCurrentCompositionFromUrl = () => {
    return window.location.pathname.substr(1);
};
exports.getCurrentCompositionFromUrl = getCurrentCompositionFromUrl;
const FramePersistor = () => {
    const [playing] = remotion_1.Internals.Timeline.usePlayingState();
    const config = (0, remotion_1.useVideoConfig)();
    const frame = remotion_1.Internals.Timeline.useTimelinePosition();
    (0, react_1.useEffect)(() => {
        if (!playing) {
            remotion_1.Internals.persistCurrentFrame(frame, config.id);
        }
    }, [config.id, frame, playing]);
    return null;
};
exports.FramePersistor = FramePersistor;
